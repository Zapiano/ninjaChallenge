<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">

    <title>Precisando de Cabeleireiros? | GetNinjas</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="./assets/css/stylesheet.css" rel="stylesheet">
    <link href="./assets/css/request_form.css" rel="stylesheet">
    <script src="./assets/javascript/populateFormFields.js"></script>
    <script src="./assets/javascript/createFormFields.js"></script>
    <script src="./assets/javascript/createFormFields/createCheckbox.js"></script>
    <script src="./assets/javascript/createFormFields/createSelect.js"></script>
    <script src="./assets/javascript/createFormFields/createTextarea.js"></script>
    <script src="./assets/javascript/createFormFields/createTextInput.js"></script>
    <script src="./assets/javascript/validateFields.js"></script>
    <script src="./assets/javascript/validateFields/validateCheckbox.js"></script>
    <script src="./assets/javascript/validateFields/validateSelect.js"></script>
    <script src="./assets/javascript/validateFields/validateSelect.js"></script>
    <script src="./assets/javascript/validateFields/validateTextInput.js"></script>
    <script src="./assets/javascript/buttonHandler.js"></script>
  </head>

  <body>
    <section class="header">
      <nav class="container header-navbar">
        <img class="header-logo" src="./public/images/estetica.svg"/>
        <span class="header-name">
          <img src="./public/images/logo.svg">
          <span>Estética</span>
        </span>
      </nav>
      <header>
        <h1 class="title">
          Os melhores Cabeleireiros.
          <small>
            Faça um pedido. Receba orçamentos. Contrate o melhor.
          </small>
        </h1>
      </header>
    </section>
    <section class="container">
      <div class='request-form-container'>
        <form>
          <fieldset id='request-fields'>
            <h2 class="form-title">
              Explique o que você precisa
              <small>Peça orçamento grátis, online!</small>
            </h2>
          </fieldset>

          <fieldset id='user-fields' style="display: none;">
            <h2 class="form-title">
              Estamos quase lá
              <small>Não perca tempo ligando para vários profissionais. Preencha os dados abaixo e
                <strong>
                  nós encontraremos os melhores pra você!
                </strong>
              </small>
            </h2>
          </fieldset>

          <fieldset class="button-container">
            <button class="btn" id="request-fields__button" onclick="requestButtonHandler(event)">Buscar Profissionais</button>
            <button class="btn" id="user-fields__button" onclick="userButtonHandler(event)" style="display: none;">Finalizar</button>
          </fieldset>
        </form>
        <div class="breadcrumb">
          <span class="breadcrumb-step active">1. Seu pedido</span>
          <span class="breadcrumb-step inactive">2. Seus dados</span>
        </div>
      </div>
    </section>

    <script>
      var requestURL = './public/fields.json';
      var request = new XMLHttpRequest();

      request.open('GET', requestURL);
      request.responseType = 'json';
      request.send();

      request.onload = function() {
        var response = request.response;
        var requestFields = response._embedded.request_fields;
        var userFields = response._embedded.user_fields;

        populateFormFields(requestFields, 'request-fields');
        populateFormFields(userFields, 'user-fields');
      }
    </script>
  </body>
</html>
